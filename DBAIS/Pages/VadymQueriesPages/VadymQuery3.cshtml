@page "/vadym/query3"
@model DBAIS.Pages.VadymQueriesPages.VadymQuery3Model
@{
    ViewBag.Title = "Vadym Query 3";
    Layout = "_Shared/_MasterLayoutPage";
}

<nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container-fluid">
        <partial name="_ToggleSidebarButton" />
        <div class="col-1">

        </div>
        <div>
            <form method="get">
                <div class="input-group">
                    <input type="hidden" name="handler" value="BestEmployee" />
                    <label class="form-check-label" asp-for="SelectedMonth" style="margin-top:6px;margin-right:6px;">
                        Find best employee of the month
                    </label>
                    <select class="form-control" asp-for="SelectedMonth" name="month">
                        @foreach(int monthVal in Enum.GetValues<DBAIS.Pages.VadymQueriesPages.MonthName>()) 
                        { 
                            <option value="@monthVal" selected="@(Model.SelectedMonth == monthVal)">@((DBAIS.Pages.VadymQueriesPages.MonthName)monthVal)</option>
                        }
                    </select>
                    <div class="input-group-append">
                        <input class="btn btn-outline-secondary" type="submit" value="Get">
                    </div>
                </div>
            </form>
        </div>

    </div>
</nav>


<h1>Vadym`s Query #3</h1>
<h4>Знайти працівника місяця(за кількістю проданих товарів)</h4>
@if (ModelState.ErrorCount > 0)
{
    <div id="book-alert" class="alert alert-danger" role="alert" style="{margin:10px;}">
        <div class="validation" asp-validation-summary="All"></div>
    </div>
}
<table class="table">
    <thead>
        <tr>
            <th scope="col">Surname</th>
            <th scope="col">Name</th>
            <th scope="col">Patronym</th>
            <th scope="col">Products sold</th>
        </tr>
    </thead>
    <tbody>
        @if (Model.EmployeeOfTheMonth != null)
        {
            <tr>
                <td>@Model.EmployeeOfTheMonth.Surname</td>
                <td>@Model.EmployeeOfTheMonth.Name</td>
                <td>@Model.EmployeeOfTheMonth.Patronymic</td>
                <td>@Model.EmployeeOfTheMonth.Sold</td>
            </tr>
        }
    </tbody>
</table>
